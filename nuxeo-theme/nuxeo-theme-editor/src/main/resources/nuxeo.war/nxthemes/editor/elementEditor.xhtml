<div xmlns="http://www.w3.org/1999/xhtml"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxthemes="http://nuxeo.org/nxthemes"
  xmlns:ui="http://java.sun.com/jsf/facelets">

<script type="text/javascript"><!--
window.scrollTo(0,0);
//--></script>

<div class="nxthemesScreen">

<nxthemes:controller resource="element-form-actions.json" />

<nxthemes:controller resource="element-editor-perspectives.json" />

<nxthemes:controller resource="style-editor-perspectives.json" />

<nxthemes:controller resource="style-editor-actions.json" />

<h1 class="nxthemesEditor">Element editor</h1>

<c:choose>
<c:when test="${nxthemesUiStates.selectedElement != null}">

<nxthemes:tabs identifier="element editor tabs" styleClass="nxthemesEditTabs">
  <nxthemes:tab
    switchTo="element editor perspectives/edit properties" label="Properties"  />
  <nxthemes:tab
    switchTo="element editor perspectives/assign widget" label="Widget"  />
  <nxthemes:tab
    switchTo="element editor perspectives/edit style" label="Style"  />
  <nxthemes:tab
    switchTo="element editor perspectives/set visibility" label="Visibility"  />
  <nxthemes:tab
    switchTo="element editor perspectives/set description" label="Description"  />    
</nxthemes:tabs>

<div class="nxthemesEditorFrame">

  <nxthemes:panel
  identifier="element properties"
  url="/nuxeo/nxthemes/editor/elementProperties.faces"
  controlledBy="element editor perspectives,element form actions"
  visibleInPerspectives="edit properties" />

  <nxthemes:panel
  identifier="element widget"
  url="/nuxeo/nxthemes/editor/elementWidget.faces"
  controlledBy="element editor perspectives,element form actions"
  visibleInPerspectives="assign widget" />

  <nxthemes:panel
  identifier="element style"
  url="/nuxeo/nxthemes/editor/elementStyle.faces"
  controlledBy="element editor perspectives,element form actions,style editor actions"
  javascript="/nuxeo/nxthemes-lib/nxthemes-style-editor.js"
  visibleInPerspectives="edit style" />

  <nxthemes:panel
  identifier="element visibility"
  url="/nuxeo/nxthemes/editor/elementVisibility.faces"
  controlledBy="element editor perspectives,element form actions"
  visibleInPerspectives="set visibility" />

  <nxthemes:panel
  identifier="element description"
  url="/nuxeo/nxthemes/editor/elementDescription.faces"
  controlledBy="element editor perspectives,element form actions"
  visibleInPerspectives="set description" />

</div>
</c:when>
<c:otherwise>
    <p>No element is selected.</p>
</c:otherwise>
</c:choose>

</div>

</div>
