<?xml version="1.0"?>
<compass-core-config
  xmlns="http://www.opensymphony.com/compass/schema/core-config"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.opensymphony.com/compass/schema/core-config
           http://www.opensymphony.com/compass/schema/compass-core-config.xsd">

  <compass name="default">

    <connection>
      <ram path="/index" />
    </connection>
    <!--  For now we don't hook to external transactions in tests
      <transaction
      factory="org.compass.core.transaction.JTASyncTransactionFactory"
      commitBeforeCompletion="true"/>
    -->

    <converters>
      <converter name="date"
        type="org.compass.core.converter.basic.CalendarConverter" />
      <converter name="int"
        type="org.compass.core.converter.basic.IntConverter">
        <setting name="format" value="#0000000000" />
      </converter>
      <converter name="long"
        type="org.compass.core.converter.basic.LongConverter">
        <setting name="format" value="#00000000000000000000" />
      </converter>
    </converters>

    <searchEngine>
      <analyzer name="lowerWhitespace" type="CustomAnalyzer"
        analyzerClass="org.nuxeo.ecm.core.search.backend.compass.LowerWhitespaceAnalyzer" />
      <analyzer name="french" type="CustomAnalyzer"
        analyzerClass="org.apache.lucene.analysis.fr.FrenchAnalyzer"/>
      <optimizer scheduleInterval="300" schedule="true"/>
    </searchEngine>

    <mappings>
      <resource location="nxdocument.cpm.xml" />
    </mappings>

  </compass>
</compass-core-config>
