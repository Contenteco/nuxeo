<?xml version="1.0"?>

<component
	name="org.nuxeo.ecm.platform.events.service.JMSDocumentMessageProducer">

	<documentation>

		JMS message producer service.

		<p />
		Send JMS messages on a dedicated NXP JMS topic.

		@version 
		1.0 @author <a href="mailto:ja@nuxeo.com">Julien Anguenot</a>
	</documentation>

	<service>
		<provide
			interface="org.nuxeo.ecm.platform.events.api.DocumentMessageProducer" />
	</service>

	<implementation
		class="org.nuxeo.ecm.platform.events.service.JMSDocumentMessageProducerService" />

	<require>
		org.nuxeo.ecm.core.listener.CoreEventListenerService
	</require>

	<extension
		target="org.nuxeo.ecm.core.listener.CoreEventListenerService"
		point="listener">

		<documentation>

			Core event listener contributions that deals with forwarding
			Nuxeo core events on a JMS dedicated topic using the
			JMSMessageProducerService.

			Order is 500 so that it is notified after most of listeners.
		</documentation>

		<listener name="jmslistener"
			class="org.nuxeo.ecm.platform.events.listener.JMSEventListener"
			order="500" />

	</extension>

</component>


