<?xml version="1.0"?>
<component name="org.nuxeo.ecm.core.storage.sql.test.repo.repository">
  <extension target="org.nuxeo.ecm.core.repository.RepositoryService"
    point="repository">
    <repository name="test"
      factory="org.nuxeo.ecm.core.storage.sql.coremodel.SQLRepositoryFactory">
      <repository name="test">
        <xa-datasource>org.apache.derby.jdbc.EmbeddedXADataSource</xa-datasource>
        <property name="createDatabase">create</property>
        <!-- Directory name mentioned in SQLRepositoryTestCase -->
        <property name="databaseName">target/test/repository</property>
        <property name="user">sa</property>
        <property name="password"></property>
      </repository>
    </repository>
  </extension>
  <extension target="org.nuxeo.ecm.core.lifecycle.LifeCycleService"
    point="lifecyclemanager">
    <lifecyclemanager
      class="org.nuxeo.ecm.core.storage.sql.coremodel.SQLLifeCycleManager" />
  </extension>
</component>
