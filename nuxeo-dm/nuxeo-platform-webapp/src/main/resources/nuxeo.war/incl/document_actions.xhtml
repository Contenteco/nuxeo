<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:nxh="http://nuxeo.org/nxweb/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:nxu="http://nuxeo.org/nxweb/util"
     xmlns:nxl="http://nuxeo.org/nxforms/layout"
     xmlns:c="http://java.sun.com/jstl/core">
     
  <ui:include src="/select_document_type.xhtml"/>
  <ui:include src="/create_file.xhtml"/>
     
  <h:form>
    <nxu:methodResult name="actions"
                      value="#{webActions.getActionsList('SUBVIEW_UPPER_LIST')}">
    <f:subview rendered="#{!empty actions}">
    <div class="action_bar">
        <nxu:dataList layout="unorderedList"
                      var="action"
                      value="#{actions}">
          <nxh:commandLink action="#{action.getLink()}">
            <h:graphicImage value="#{action.icon}" />
            <h:outputText value="#{messages[action.label]}" />
          </nxh:commandLink>
        </nxu:dataList>
    </div>
    </f:subview>
    </nxu:methodResult>
    <nxu:methodResult name="actions"
                      value="#{webActions.getActionsList('SUBVIEW_UPPER_LIST_HREF')}">
    <f:subview rendered="#{!empty actions}">
    <div class="action_bar">
        <nxu:dataList layout="unorderedList"
                      var="action"
                      value="#{actions}">
          <a href="#{action.getLink()}">
            <h:graphicImage value="#{action.icon}" />
            <h:outputText value="#{messages[action.label]}" />
          </a>
        </nxu:dataList>
    </div>
    </f:subview>
    </nxu:methodResult>
    
    <c:if test="#{currentDocument.hasFacet('WebView') and currentDocument.webc.isWebContainer}">        
      <nxl:layout name="#{currentDocument.type}" mode="view" value="" />
    </c:if>
    
    <div style="clear:both"></div>
  </h:form>
</div>