<?xml version="1.0" encoding="UTF-8"?>
<component name="org.nuxeo.ecm.webapp.seam.debug.action">

  <extension target="org.nuxeo.ecm.platform.actions.ActionService"
    point="actions">

    <action id="seamReload" link="#{seamReload.doReload}" enabled="true"
      label="SeamReload" order="10">
      <category>USER_SERVICES</category>
      <filter-id>seamHotReloadIsEnabled</filter-id>
    </action>

    <action id="pdfExport" link="pdf" order="18"
      label="label.exportview.pdfExport" icon="/icons/pdf_export.png">
      <category>DOCUMENT_UPPER_ACTION</category>
    </action>

    <action id="exportViewPDFExport"
      link="#{restHelper.getDocumentUrl(currentDocument, 'pdf', true)}"
      order="0" label="label.exportview.pdfExport"
      icon="/icons/pdf_export.png">
      <category>DOCUMENT_EXPORT_VIEW_ACTION</category>
    </action>

    <action id="exportViewZipBlobExport"
      link="#{clipboardActions.exportWorklistAsZip(currentDocument)}"
      label="label.exportview.zipBlobExport"
      icon="/icons/action_export_zip.gif">
      <category>DOCUMENT_EXPORT_VIEW_COMMAND_ACTION</category>
    </action>

    <!-- Users and Groups management -->
    <action id="UsersGroupsManager" link="view_admin-fragment.xhtml"
      label="command.manageMembers" order="45">
      <category>NUXEO_ADMIN</category>
      <filter-id>user_manager</filter-id>
      <filter-id>not_readonly</filter-id>
    </action>
    <action id="UsersManager" link="users/view_users.xhtml"
      label="label.userManager.users" order="10">
      <category>UsersGroupsManager_sub_tab</category>
      <filter-id>user_manager</filter-id>
      <filter-id>not_readonly</filter-id>
    </action>
    <action id="GroupsManager" link="users/view_groups.xhtml"
      label="label.groupManager.groups" order="20">
      <category>UsersGroupsManager_sub_tab</category>
      <filter-id>user_manager</filter-id>
      <filter-id>not_readonly</filter-id>
    </action>

  </extension>

  <extension target="org.nuxeo.ecm.platform.actions.ActionService"
    point="filters">

    <filter id="seamHotReloadIsEnabled">
      <rule grant="true">
        <condition>#{seamHotReloadIsEnabled}</condition>
      </rule>
    </filter>

    <filter id="user_manager">
      <rule grant="true">
        <condition>#{userServicesContext.userManagerEnabled}</condition>
      </rule>
    </filter>

  </extension>

</component>
