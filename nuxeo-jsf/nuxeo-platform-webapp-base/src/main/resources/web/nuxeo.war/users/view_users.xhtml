<div xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:c="http://java.sun.com/jstl/core"
     xmlns:nxu="http://nuxeo.org/nxweb/util"
     xmlns:nxl="http://nuxeo.org/nxforms/layout"
     xmlns:a4j="http://richfaces.org/a4j">

  <a4j:outputPanel id="usersPanel">
    <div class="tabsContent">

      <!-- create form -->
      <f:subview rendered="#{userManagementActions.showCreateForm}"
        id="createUserView">
        <ui:include src="create_user.xhtml"/>
      </f:subview>

      <!-- view form -->
      <f:subview rendered="#{not empty userManagementActions.selectedUser and userManagementActions.showUserOrGroup}"
        id="viewUserView">
        <ui:include src="view_user.xhtml"/>
      </f:subview>

      <!-- listing -->
      <f:subview rendered="#{!userManagementActions.showUserOrGroup and !userManagementActions.showCreateForm}"
        id="usersListingView">
        <c:if test="#{userManagementActions.listingMode == 'search_only'}">
          <ui:include src="view_users_listing.xhtml"/>
        </c:if>
        <c:if test="#{userManagementActions.listingMode == 'tabbed'}">
          <ui:include src="view_many_users_listing.xhtml"/>
        </c:if>
      </f:subview>

    </div>
  </a4j:outputPanel>

</div>
