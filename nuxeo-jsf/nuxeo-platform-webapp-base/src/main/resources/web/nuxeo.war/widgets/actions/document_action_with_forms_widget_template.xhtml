<c:if test="#{not empty widgetProperty_actionId}"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:c="http://java.sun.com/jstl/core">

<nxu:set var="actionContextDocument"
  value="#{nxu:test(empty widgetProperty_actionContextDocument, fieldOrValue, widgetProperty_actionContextDocument)}"
  cache="true">
<nxu:set var="action"
  value="#{webActions.getActionForDocument(widgetProperty_actionId, actionContextDocument, not widgetProperty_disableFiltered)}"
  cache="true">
  <nxl:widgetType name="action"
    mode="#{widget.mode}"
    widgetName="doc_#{widget.name}"
    label="#{widget.label}"
    value="#{fieldOrValue}"
    properties="#{widget.properties}"
    action="#{action}"
    ignoreTemplateProperty="true"
    subWidgets="#{widget.subWidgets}"
    addForm="true" />
</nxu:set>
</nxu:set>

</c:if>