<c:if test="#{widget.mode != 'after_view' and vidget.mode != 'tab_content'}"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html">
  <nxu:set var="actionLink" value="#{action.getLink()}" resolveTwice="true" >
  <nxu:set var="onclick"
    value="#{nxu:test(not empty action.properties.confirmMessage, 'if (!confirm#{widget.name}Message()) return false;', '')}#{action.confirm};#{action.properties.onclick};"
    cache="true">
    <h:outputLink value="#{actionLink}"
      target="#{action.properties.target}"
      onclick="#{onclick}"
      immediate="#{action.immediate}"
      disabled="#{!action.available}"
      styleClass="#{useButton ? 'button' : 'actionLink'} #{actionStyleClass} #{action.properties.styleClass}">
      <ui:include src="/incl/action/action_icon_label_template.xhtml" />
      <ui:insert name="inside_action" />
    </h:outputLink>
  </nxu:set>
  </nxu:set>
</c:if>